from pyiron_atomistics.structure.atoms import Atoms
import numpy as np
from pyiron.project import Project
import vrplugin.Sender as Sender

element = 'Fe'
pr = Project('Virtual_Atoms_Structure')
# pr.remove_jobs(recursive=True)


cell = 32.73056 * np.eye(3)  # Specifying the cell dimensions
positions = [[0.0,0.0,0.0], [1.7635,1.7635,0.0], [1.7635,0.0,1.7635], [0.0,1.7635,1.7635], [3.527,0.0,0.0], [5.2905,1.7635,0.0], [5.2905,0.0,1.7635], [3.527,1.7635,1.7635], [0.0,3.527,0.0], [1.7635,5.2905,0.0], [1.7635,3.527,1.7635], [0.0,5.2905,1.7635], [3.527,3.527,0.0], [5.2905,5.2905,0.0], [5.2905,3.527,1.7635], [3.527,5.2905,1.7635], [0.0,0.0,3.527], [1.7635,1.7635,3.527], [1.7635,0.0,5.2905], [0.0,1.7635,5.2905], [3.527,0.0,3.527], [5.2905,1.7635,3.527], [5.2905,0.0,5.2905], [3.527,1.7635,5.2905], [0.0,3.527,3.527], [1.7635,5.2905,3.527], [1.7635,3.527,5.2905], [0.0,5.2905,5.2905], [3.527,3.527,3.527], [5.2905,5.2905,3.527], [5.2905,3.527,5.2905], [3.527,5.2905,5.2905], [0.0,0.0,7.054], [1.7635,1.7635,7.054], [1.7635,0.0,8.8175], [0.0,1.7635,8.8175], [3.527,0.0,7.054], [5.2905,1.7635,7.054], [5.2905,0.0,8.8175], [3.527,1.7635,8.8175], [0.0,3.527,7.054], [1.7635,5.2905,7.054], [1.7635,3.527,8.8175], [0.0,5.2905,8.8175], [3.527,3.527,7.054], [5.2905,5.2905,7.054], [5.2905,3.527,8.8175], [3.527,5.2905,8.8175], [0.0,0.0,10.581], [1.7635,1.7635,10.581], [1.7635,0.0,12.3445], [0.0,1.7635,12.3445], [3.527,0.0,10.581], [5.2905,1.7635,10.581], [5.2905,0.0,12.3445], [3.527,1.7635,12.3445], [0.0,3.527,10.581], [1.7635,5.2905,10.581], [1.7635,3.527,12.3445], [0.0,5.2905,12.3445], [3.527,3.527,10.581], [5.2905,5.2905,10.581], [5.2905,3.527,12.3445], [3.527,5.2905,12.3445], [0.0,0.0,18.62256], [0.0,1.7635,20.38606], [1.7635,0.0,20.38606], [1.7635,1.7635,18.62256], [3.527,0.0,18.62256], [3.527,1.7635,20.38606], [5.2905,0.0,20.38606], [5.2905,1.7635,18.62256], [0.0,3.527,18.62256], [0.0,5.2905,20.38606], [1.7635,3.527,20.38606], [1.7635,5.2905,18.62256], [3.527,3.527,18.62256], [3.527,5.2905,20.38606], [5.2905,3.527,20.38606], [5.2905,5.2905,18.62256], [0.0,0.0,22.14956], [0.0,1.7635,23.91306], [1.7635,0.0,23.91306], [1.7635,1.7635,22.14956], [3.527,0.0,22.14956], [3.527,1.7635,23.91306], [5.2905,0.0,23.91306], [5.2905,1.7635,22.14956], [0.0,3.527,22.14956], [0.0,5.2905,23.91306], [1.7635,3.527,23.91306], [1.7635,5.2905,22.14956], [3.527,3.527,22.14956], [3.527,5.2905,23.91306], [5.2905,3.527,23.91306], [5.2905,5.2905,22.14956], [0.0,0.0,25.67656], [0.0,1.7635,27.44006], [1.7635,0.0,27.44006], [1.7635,1.7635,25.67656], [3.527,0.0,25.67656], [3.527,1.7635,27.44006], [5.2905,0.0,27.44006], [5.2905,1.7635,25.67656], [0.0,3.527,25.67656], [0.0,5.2905,27.44006], [1.7635,3.527,27.44006], [1.7635,5.2905,25.67656], [3.527,3.527,25.67656], [3.527,5.2905,27.44006], [5.2905,3.527,27.44006], [5.2905,5.2905,25.67656], [0.0,0.0,29.20356], [0.0,1.7635,30.96706], [1.7635,0.0,30.96706], [1.7635,1.7635,29.20356], [3.527,0.0,29.20356], [3.527,1.7635,30.96706], [5.2905,0.0,30.96706], [5.2905,1.7635,29.20356], [0.0,3.527,29.20356], [0.0,5.2905,30.96706], [1.7635,3.527,30.96706], [1.7635,5.2905,29.20356], [3.527,3.527,29.20356], [3.527,5.2905,30.96706], [5.2905,3.527,30.96706], [5.2905,5.2905,29.20356], [5.2905,5.2905,20.38606]]
elements = ['Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'Al', 'Ni', 'Ni', 'Ni', 'H']
basis = Atoms(elements=elements, positions=positions, cell=cell, is_absolute=False, pbc=[True, True, True])
'''
basis = pr.create_ase_bulk(element, cubic=True)
basis = basis.repeat([2, 2, 2])
basis.set_absolute()
basis.positions[3,0] += 2
'''

ham_lammps = pr.create_job(pr.job_type.Lammps, 'ham_lammps')
ham_lammps.structure = basis
ham_lammps.potential = 'Al_H_Ni_Angelo_eam'
# ham_lammps.potential = 'LennardJones612_UniversalShifted__MO_959249795837_001'

# ham_lammps.calc_md(temperature=30, n_ionic_steps=300, n_print=1)
ham_lammps.calc_minimize()
ham_lammps.run()

# Sender.init_struc(ham_lammps, temperature=30, n_ionic_steps=300, structure_name="NiAl-Structure")
# Sender.run_loop()